import{t as te,r as V,a as U,c as ne,g as re,o as oe,b as K,n as D,w as j,d as G,e as P,f as A,s as H,h as L,u as ie}from"../@ant-design/icons-vue-ym-L-X2r.js";function z(e,n){return re()?(oe(e,n),!0):!1}const I=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const se=e=>e!=null,ae=Object.prototype.toString,ue=e=>ae.call(e)==="[object Object]",le=()=>{};function q(...e){if(e.length!==1)return te(...e);const n=e[0];return typeof n=="function"?V(ne(()=>({get:n,set:le}))):U(n)}function ce(e,n){function r(...u){return new Promise((o,f)=>{Promise.resolve(e(()=>n.apply(this,u),{fn:n,thisArg:this,args:u})).then(o).catch(f)})}return r}const B=e=>e();function fe(e=B,n={}){const{initialState:r="active"}=n,u=q(r==="active");function o(){u.value=!1}function f(){u.value=!0}const y=(...t)=>{u.value&&e(...t)};return{isActive:V(u),pause:o,resume:f,eventFilter:y}}function T(e){return Array.isArray(e)?e:[e]}function de(e){return G()}function pe(e,n,r={}){const{eventFilter:u=B,...o}=r;return j(e,ce(u,n),o)}function he(e,n,r={}){const{eventFilter:u,initialState:o="active",...f}=r,{eventFilter:y,pause:t,resume:l,isActive:s}=fe(u,{initialState:o});return{stop:pe(e,n,{...f,eventFilter:y}),pause:t,resume:l,isActive:s}}const Q=he;function ve(e,n=!0,r){de()?K(e,r):n?e():D(e)}function ye(e,n,r){return j(e,n,{...r,immediate:!0})}const F=I?window:void 0,me=I?window.document:void 0;function X(e){var n;const r=A(e);return(n=r?.$el)!==null&&n!==void 0?n:r}function k(...e){const n=[],r=()=>{n.forEach(t=>t()),n.length=0},u=(t,l,s,h)=>(t.addEventListener(l,s,h),()=>t.removeEventListener(l,s,h)),o=P(()=>{const t=T(A(e[0])).filter(l=>l!=null);return t.every(l=>typeof l!="string")?t:void 0}),f=ye(()=>{var t,l;return[(t=(l=o.value)===null||l===void 0?void 0:l.map(s=>X(s)))!==null&&t!==void 0?t:[F].filter(s=>s!=null),T(A(o.value?e[1]:e[0])),T(ie(o.value?e[2]:e[1])),A(o.value?e[3]:e[2])]},([t,l,s,h])=>{if(r(),!t?.length||!l?.length||!s?.length)return;const a=ue(h)?{...h}:h;n.push(...t.flatMap(m=>l.flatMap(O=>s.map(M=>u(m,O,M,a)))))},{flush:"post"}),y=()=>{f(),r()};return z(r),y}function ge(){const e=H(!1),n=G();return n&&K(()=>{e.value=!0},n),e}function Se(e){const n=ge();return P(()=>(n.value,!!e()))}function be(e,n,r={}){const{window:u=F,...o}=r;let f;const y=Se(()=>u&&"MutationObserver"in u),t=()=>{f&&(f.disconnect(),f=void 0)},l=j(P(()=>{const a=T(A(e)).map(X).filter(se);return new Set(a)}),a=>{t(),y.value&&a.size&&(f=new MutationObserver(n),a.forEach(m=>f.observe(m,o)))},{immediate:!0,flush:"post"}),s=()=>f?.takeRecords(),h=()=>{l(),t()};return z(h),{isSupported:y,stop:h,takeRecords:s}}const C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R="__vueuse_ssr_handlers__",we=Oe();function Oe(){return R in C||(C[R]=C[R]||{}),C[R]}function $e(e,n){return we[e]||n}function Ee(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ae={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},J="vueuse-storage";function Fe(e,n,r,u={}){var o;const{flush:f="pre",deep:y=!0,listenToStorageChanges:t=!0,writeDefaults:l=!0,mergeDefaults:s=!1,shallow:h,window:a=F,eventFilter:m,onError:O=i=>{console.error(i)},initOnMounted:M}=u,$=(h?H:U)(typeof n=="function"?n():n),g=P(()=>A(e));if(!r)try{r=$e("getDefaultStorage",()=>F?.localStorage)()}catch(i){O(i)}if(!r)return $;const b=A(n),N=Ee(b),E=(o=u.serializer)!==null&&o!==void 0?o:Ae[N],{pause:d,resume:c}=Q($,i=>Z(i),{flush:f,deep:y,eventFilter:m});j(g,()=>W(),{flush:f});let p=!1;const w=i=>{M&&!p||W(i)},Y=i=>{M&&!p||ee(i)};a&&t&&(r instanceof Storage?k(a,"storage",w,{passive:!0}):k(a,J,Y)),M?ve(()=>{p=!0,W()}):W();function x(i,v){if(a){const S={key:g.value,oldValue:i,newValue:v,storageArea:r};a.dispatchEvent(r instanceof Storage?new StorageEvent("storage",S):new CustomEvent(J,{detail:S}))}}function Z(i){try{const v=r.getItem(g.value);if(i==null)x(v,null),r.removeItem(g.value);else{const S=E.write(i);v!==S&&(r.setItem(g.value,S),x(v,S))}}catch(v){O(v)}}function _(i){const v=i?i.newValue:r.getItem(g.value);if(v==null)return l&&b!=null&&r.setItem(g.value,E.write(b)),b;if(!i&&s){const S=E.read(v);return typeof s=="function"?s(S,b):N==="object"&&!Array.isArray(S)?{...b,...S}:S}else return typeof v!="string"?v:E.read(v)}function W(i){if(!(i&&i.storageArea!==r)){if(i&&i.key==null){$.value=b;return}if(!(i&&i.key!==g.value)){d();try{const v=E.write($.value);(i===void 0||i?.newValue!==v)&&($.value=_(i))}catch(v){O(v)}finally{i?D(c):c()}}}}function ee(i){W(i.detail)}return $}function Ne(e=null,n={}){var r,u;const{document:o=me,restoreOnUnmount:f=a=>a}=n,y=(r=o?.title)!==null&&r!==void 0?r:"",t=q((u=e??o?.title)!==null&&u!==void 0?u:null),l=!!(e&&typeof e=="function");function s(a){if(!("titleTemplate"in n))return a;const m=n.titleTemplate||"%s";return typeof m=="function"?m(a):A(m).replace(/%s/g,a)}if(j(t,(a,m)=>{a!==m&&o&&(o.title=s(a??""))},{immediate:!0}),n.observe&&!n.titleTemplate&&o&&!l){var h;be((h=o.head)===null||h===void 0?void 0:h.querySelector("title"),()=>{o&&o.title!==t.value&&(t.value=s(o.title))},{childList:!0})}return z(()=>{if(f){const a=f(y,t.value||"");a!=null&&o&&(o.title=a)}}),t}function We(e="history",n={}){const{initialValue:r={},removeNullishValues:u=!0,removeFalsyValues:o=!1,write:f=!0,writeMode:y="replace",window:t=F,stringify:l=d=>d.toString()}=n;if(!t)return L(r);const s=L({});function h(){if(e==="history")return t.location.search||"";if(e==="hash"){const d=t.location.hash||"",c=d.indexOf("?");return c>0?d.slice(c):""}else return(t.location.hash||"").replace(/^#/,"")}function a(d){const c=l(d);if(e==="history")return`${c?`?${c}`:""}${t.location.hash||""}`;if(e==="hash-params")return`${t.location.search||""}${c?`#${c}`:""}`;const p=t.location.hash||"#",w=p.indexOf("?");return w>0?`${t.location.search||""}${p.slice(0,w)}${c?`?${c}`:""}`:`${t.location.search||""}${p}${c?`?${c}`:""}`}function m(){return new URLSearchParams(h())}function O(d){const c=new Set(Object.keys(s));for(const p of d.keys()){const w=d.getAll(p);s[p]=w.length>1?w:d.get(p)||"",c.delete(p)}Array.from(c).forEach(p=>delete s[p])}const{pause:M,resume:$}=Q(s,()=>{const d=new URLSearchParams("");Object.keys(s).forEach(c=>{const p=s[c];Array.isArray(p)?p.forEach(w=>d.append(c,w)):u&&p==null||o&&!p?d.delete(c):d.set(c,p)}),g(d,!1)},{deep:!0});function g(d,c,p=!0){M(),c&&O(d),y==="replace"?t.history.replaceState(t.history.state,t.document.title,t.location.pathname+a(d)):p&&t.history.pushState(t.history.state,t.document.title,t.location.pathname+a(d)),D(()=>$())}function b(){f&&g(m(),!0,!1)}const N={passive:!0};k(t,"popstate",b,N),e!=="history"&&k(t,"hashchange",b,N);const E=m();return E.keys().next().value?O(E):Object.assign(s,r),s}export{We as a,Ne as b,z as t,Fe as u};
