import{t as j}from"./core-B6fUiQ3R.js";import{s as D}from"../@ant-design/icons-vue-ym-L-X2r.js";var w={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var _;function N(){if(_)return w;_=1,w.parse=d,w.serialize=b;var o=Object.prototype.toString,r=Object.prototype.hasOwnProperty,i=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,t=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,u=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,p=/^[\u0020-\u003A\u003D-\u007E]*$/;function d(n,c){if(typeof n!="string")throw new TypeError("argument str must be a string");var e={},h=n.length;if(h<2)return e;var O=c&&c.decode||A,s=0,l=0,f=0;do{if(l=n.indexOf("=",s),l===-1)break;if(f=n.indexOf(";",s),f===-1)f=h;else if(l>f){s=n.lastIndexOf(";",l-1)+1;continue}var C=g(n,s,l),y=a(n,l,C),k=n.slice(C,y);if(!r.call(e,k)){var v=g(n,l+1,f),E=a(n,f,v);n.charCodeAt(v)===34&&n.charCodeAt(E-1)===34&&(v++,E--);var T=n.slice(v,E);e[k]=x(T,O)}s=f+1}while(s<h);return e}function g(n,c,e){do{var h=n.charCodeAt(c);if(h!==32&&h!==9)return c}while(++c<e);return e}function a(n,c,e){for(;c>e;){var h=n.charCodeAt(--c);if(h!==32&&h!==9)return c+1}return e}function b(n,c,e){var h=e&&e.encode||encodeURIComponent;if(typeof h!="function")throw new TypeError("option encode is invalid");if(!i.test(n))throw new TypeError("argument name is invalid");var O=h(c);if(!t.test(O))throw new TypeError("argument val is invalid");var s=n+"="+O;if(!e)return s;if(e.maxAge!=null){var l=Math.floor(e.maxAge);if(!isFinite(l))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+l}if(e.domain){if(!u.test(e.domain))throw new TypeError("option domain is invalid");s+="; Domain="+e.domain}if(e.path){if(!p.test(e.path))throw new TypeError("option path is invalid");s+="; Path="+e.path}if(e.expires){var f=e.expires;if(!L(f)||isNaN(f.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+f.toUTCString()}if(e.httpOnly&&(s+="; HttpOnly"),e.secure&&(s+="; Secure"),e.partitioned&&(s+="; Partitioned"),e.priority){var C=typeof e.priority=="string"?e.priority.toLowerCase():e.priority;switch(C){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(e.sameSite){var y=typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite;switch(y){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function A(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function L(n){return o.call(n)==="[object Date]"}function x(n,c){try{return c(n)}catch{return n}}return w}var m=N();function I(){const o=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof o=="boolean"?o:typeof document=="object"&&typeof document.cookie=="string"}function P(o){return typeof o=="string"?m.parse(o):typeof o=="object"&&o!==null?o:{}}function S(o,r={}){const i=U(o);if(!r.doNotParse)try{return JSON.parse(i)}catch{}return o}function U(o){return o&&o[0]==="j"&&o[1]===":"?o.substr(2):o}class z{constructor(r,i={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const u=this.cookies;this.cookies=m.parse(document.cookie),this._checkChanges(u)};const t=typeof document>"u"?"":document.cookie;this.cookies=P(r||t),this.defaultSetOptions=i,this.HAS_DOCUMENT_COOKIE=I()}_emitChange(r){for(let i=0;i<this.changeListeners.length;++i)this.changeListeners[i](r)}_checkChanges(r){new Set(Object.keys(r).concat(Object.keys(this.cookies))).forEach(t=>{r[t]!==this.cookies[t]&&this._emitChange({name:t,value:S(this.cookies[t])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(r,i={}){return i.doNotUpdate||this.update(),S(this.cookies[r],i)}getAll(r={}){r.doNotUpdate||this.update();const i={};for(let t in this.cookies)i[t]=S(this.cookies[t],r);return i}set(r,i,t){t?t=Object.assign(Object.assign({},this.defaultSetOptions),t):t=this.defaultSetOptions;const u=typeof i=="string"?i:JSON.stringify(i);this.cookies=Object.assign(Object.assign({},this.cookies),{[r]:u}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=m.serialize(r,u,t)),this._emitChange({name:r,value:i,options:t})}remove(r,i){const t=i=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),i),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[r],this.HAS_DOCUMENT_COOKIE&&(document.cookie=m.serialize(r,"",t)),this._emitChange({name:r,value:void 0,options:i})}addChangeListener(r){this.changeListeners.push(r),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(r){const i=this.changeListeners.indexOf(r);i>=0&&this.changeListeners.splice(i,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}function R(o,{doNotParse:r=!1,autoUpdateDependencies:i=!1}={},t=new z){const u=i?[...o||[]]:o;let p=t.getAll({doNotParse:!0});const d=D(0),g=()=>{const a=t.getAll({doNotParse:!0});M(u||null,a,p)&&d.value++,p=a};return t.addChangeListener(g),j(()=>{t.removeChangeListener(g)}),{get:(...a)=>(i&&u&&!u.includes(a[0])&&u.push(a[0]),d.value,t.get(a[0],{doNotParse:r,...a[1]})),getAll:(...a)=>(d.value,t.getAll({doNotParse:r,...a[0]})),set:(...a)=>t.set(...a),remove:(...a)=>t.remove(...a),addChangeListener:(...a)=>t.addChangeListener(...a),removeChangeListener:(...a)=>t.removeChangeListener(...a)}}function M(o,r,i){if(!o)return!0;for(const t of o)if(r[t]!==i[t])return!0;return!1}export{R as u};
